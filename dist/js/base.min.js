function toastTips(e){var t=$("<div>"+e+"</div>");t.css({position:"fixed",zIndex:"9999",top:"50%",left:"50%",maxWidth:"80%",padding:"1rem","line-height":"1.8rem",fontSize:"1.5rem",color:"rgb(255,255,255)",transform:"translate(-50%, -50%)",backgroundColor:"rgba(0,0,0,.6)",borderRadius:".8rem"}),$("body").append(t),setTimeout(function(){t.remove()},2e3)}function inviteTips(e){var t=e.title?"<h2>"+e.title+"</h2>":"",n=e.content?"<p>"+e.content+"</p>":"",a=e.btn?"<a href='#' class='close'>"+e.btn+"</a>":"",s="<section class='mask-box'><div class='invite-box'><span class='iconfont icons-arrow'>&#xe618;</span>"+t+n+a+"</duv></section>";$("body").append(s);var i=$(".invite-box").parent();i.get(0).addEventListener("tap",function(){$(this).remove()},!1),setTimeout(function(){$(".invite-box").css({"-webkit-transition":"-webkit-transform .3s","-moz-transition":"-moz-transform .3s",transition:"transform .3s","-webkit-transform":"translate3d(0,0,0)","-webkit-transform":"translate3d(0,0,0)",transform:"translate3d(0,0,0)"})},200)}function dialogTip1(e,t,n){var a="<div class='mask-box'><div class='dialog'><div class='dialog-show'><div class='dialog-Content'><p class='dialog-text'>"+e+"</p></div><div class='dialog-btn'><button class='btn-ok'>"+t+"</button><button class='btn-cancel'>"+n+"</button></div></div></div></div>";return a}function dialogTip2(e){var t="<div class='mask-box'><div class='dialog'><div class='dialog-show'><div class='dialog-Content'><p class='dialog-text'>"+e+"</p></div></div></div></div>";return t}function setCookie(e){var t,n=new Date,a=navigator.userAgent.toLowerCase();t="micromessenger"==a.match(/MicroMessenger/i)?!0:!1,n.setDate(n.getDate()),document.cookie=e+"="+encodeURIComponent(t)+";expires="+n}function maskHide(){$(".mask-box").css("display","none"),$(".anmite-show").addClass("anmite-hide")}function addDOM(){function e(){function e(e){for(var t="",n=0;n<e.length;n++)t+="<li data-id="+e[n].id+">"+e[n].name+"</li>";return t}function t(e){return document.getElementById(e)}function n(){$("input").blur();var n=[{id:"110000",name:"北京市",shortName:"北京"},{id:"120000",name:"天津市",shortName:"天津"},{id:"130000",name:"河北省",shortName:"河北"},{id:"140000",name:"山西省",shortName:"山西"},{id:"210000",name:"辽宁省",shortName:"辽宁"},{id:"220000",name:"吉林省",shortName:"吉林"},{id:"230000",name:"黑龙江省",shortName:"黑龙江"},{id:"310000",name:"上海市",shortName:"上海"},{id:"320000",name:"江苏省",shortName:"江苏"},{id:"330000",name:"浙江省",shortName:"浙江"},{id:"340000",name:"安徽省",shortName:"安徽"},{id:"350000",name:"福建省",shortName:"福建"},{id:"360000",name:"江西省",shortName:"江西"},{id:"370000",name:"山东省",shortName:"山东"},{id:"410000",name:"河南省",shortName:"河南"},{id:"420000",name:"湖北省",shortName:"湖北"},{id:"430000",name:"湖南省",shortName:"湖南"},{id:"440000",name:"广东省",shortName:"广东"},{id:"450000",name:"广西壮族自治区",shortName:"广西"},{id:"460000",name:"海南省",shortName:"海南"},{id:"500000",name:"重庆市",shortName:"重庆"},{id:"510000",name:"四川省",shortName:"四川"},{id:"610000",name:"陕西省",shortName:"陕西"}],s=t("addressSelect"),i=t("selected");if(s.setAttribute("class","page-fixed address-select address-select-show"),!t("firstSelect")){var o=document.createElement("ul");o.setAttribute("id","firstSelect"),o.innerHTML=e(n),i.parentNode.appendChild(o);for(var d=o.getElementsByTagName("li"),r=0;r<d.length;r++)d[r].addEventListener("tap",a,!1)}}function a(){var n=this;if(n!=window){var a=[{id:"110100",name:"北京市",shortName:"北京"}],i=t("selected"),d=document.createElement("li");if(d.innerHTML=n.innerHTML,n.parentNode.style.display="none",i.appendChild(d),i.getElementsByTagName("li")[0].addEventListener("tap",o,!1),!t("secondSelect")){var r=document.createElement("ul");r.setAttribute("id","secondSelect"),r.innerHTML=e(a),i.parentNode.appendChild(r);for(var c=r.getElementsByTagName("li"),l=0;l<c.length;l++)c[l].addEventListener("tap",s,!1)}}}function s(){var n=this;if(n!=window){var a=[{id:"110114",name:"昌平区",shortName:"昌平"},{id:"110105",name:"朝阳区",shortName:"朝阳"},{id:"110101",name:"东城区",shortName:"东城"},{id:"110115",name:"大兴区",shortName:"大兴"},{id:"110111",name:"房山区",shortName:"房山"},{id:"110106",name:"丰台区",shortName:"丰台"},{id:"110108",name:"海淀区",shortName:"海淀"},{id:"110116",name:"怀柔区",shortName:"怀柔"},{id:"110109",name:"门头沟区",shortName:"门头沟"},{id:"110228",name:"密云县",shortName:"密云"},{id:"110117",name:"平谷区",shortName:"平谷"},{id:"110107",name:"石景山区",shortName:"石景山"},{id:"110113",name:"顺义区",shortName:"顺义"},{id:"110112",name:"通州区",shortName:"通州"},{id:"110102",name:"西城区",shortName:"西城"},{id:"110229",name:"延庆县",shortName:"延庆"}],s=t("selected"),d=document.createElement("li");if(d.innerHTML=n.innerHTML,n.parentNode.style.display="none",s.appendChild(d),s.getElementsByTagName("li")[1].addEventListener("tap",o,!1),!t("thirdSelect")){var r=document.createElement("ul");r.setAttribute("id","thirdSelect"),r.innerHTML=e(a),s.parentNode.appendChild(r);for(var c=r.getElementsByTagName("li"),l=0;l<c.length;l++)c[l].addEventListener("tap",i,!1)}}}function i(){var e=this;if(e!=window){var n=[{id:"110114113",name:"百善镇",shortName:"百善镇"},{id:"110114115",name:"北七家镇",shortName:"北七家镇"},{id:"110114001",name:"城北街道",shortName:"城北街道"},{id:"110114005",name:"城南街道",shortName:"城南街道"},{id:"110114112",name:"崔村镇",shortName:"崔村镇"},{id:"110114007",name:"东小口",shortName:"东小口"},{id:"110114006",name:"回龙观",shortName:"回龙观"},{id:"110114010",name:"霍营街道",shortName:"霍营街道"},{id:"110114118",name:"流村镇",shortName:"流村镇"},{id:"110114003",name:"马池口",shortName:"马池口"},{id:"110114002",name:"南口",shortName:"南口"},{id:"110114111",name:"南邵镇",shortName:"南邵镇"},{id:"110114004",name:"沙河",shortName:"沙河"},{id:"110114119",name:"十三陵镇",shortName:"十三陵镇"},{id:"110114008",name:"天通苑北街道",shortName:"天通苑北街道"},{id:"110114009",name:"天通苑南街道",shortName:"天通苑南街道"},{id:"110114110",name:"小汤山镇",shortName:"小汤山镇"},{id:"110114116",name:"兴寿镇",shortName:"兴寿镇"},{id:"110114104",name:"阳坊镇",shortName:"阳坊镇"},{id:"110114120",name:"延寿镇",shortName:"延寿镇"}],a=t("selected").getElementsByTagName("li"),s=t("street"),i="";if(0!=n.length){i="<option value='暂不选择'>暂不选择</option>";for(var o=0;o<n.length;o++)i+="<option value="+n[o].name+">"+n[o].name+"</option>"}else i="<option value='暂不选择'>暂不选择</option>";s.innerHTML=i,s.setAttribute("style","rgb(153,153,153)");for(var r="",o=0;o<a.length;o++)r+="<span id=city"+(o+1)+">"+a[o].innerHTML+"</span>";r+="<span id='city3'>"+e.innerHTML+"</span>",t("city-picker").innerHTML=r,t("street").addEventListener("change",d,!1),t("addressSelect").setAttribute("class","page-fixed address-select")}}function o(){for(var e=this,t=e.parentNode,n=t.parentNode,a=t.getElementsByTagName("li"),s=n.getElementsByTagName("ul"),i=c(a,e),o=a.length-1;o>=i;o--)t.removeChild(a[o]);for(var o=s.length-1;o>i;o--){if(o==i+1){s[o].style.display="block";break}n.removeChild(s[o])}}function d(){var e=this.selectedIndex;console.log(e),0!=e?this.setAttribute("style","color: rgb(68,68,68)"):this.setAttribute("style","color: rgb(153,153,153)")}var r="<section class='addressBox anmite-show' id='add-address'><div class='address'><h3>添加收货地址</h3><div class='addressForm'><ul><li><label>收货人</label><span class='ipt-text'><input type='text' id='userName' placeholder='姓名' /></span></li><li><label>联系电话</label><span class='ipt-text'><input type='tel' id='telephone' placeholder='手机或固话' /></span></li><li><label>收货地点</label><span class='ipt-text' id='city-picker'><em>请选择收货地址</em></span></li><li><label>街道信息</label><span class='ipt-text'><select class='street-select' id='street'><option>街道门牌信息（选填）</option></select></span></li><li><label>详细地点</label><span class='ipt-text'><input type='text' placeholder='详细地点' /></span></li><li><label>邮政编码</label><span class='ipt-text'><input type='number' id='zipCode' placeholder='邮政编码(选填）' /></span></li></ul></div></div><button class='btn-next' id='addNext'>下一步</button></section>";$("body").append(r),t("city-picker").addEventListener("tap",n,!1),$("#addNext").get(0).addEventListener("tap",submitAddress,!1);var c=function(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]==t)return n}}var t=$(".mask-box");0!=t.length?($("body").find(".mask-box").show(),0!=$("#add-address").length?$("#add-address").removeClass("anmite-hide"):e()):($("body").append("<section class='mask-box'></section>"),e(),$(".mask-box").get(0).addEventListener("tap",function(){$(".mask-box").css("display","none"),$(".anmite-show").addClass("anmite-hide")},!1))}function nodeText(e,t){return e.find(t).text()}function selected(){var e,t,n,a=$(this);e=nodeText(a,".phone"),t=nodeText(a,".receiver"),n=nodeText(a,".order-address"),$(".confirm").attr("class","confirm iconfont icons-confirm"),a.find(".confirm").attr("class","confirm iconfont icons-confirm-active"),$("#phone").text(e),$("#receiver").text(t),$("#address").text(n),transitions()}function transitions(){setTimeout(function(){$(".pageAddress").removeClass("addressShow"),$(".pageOrder").removeClass("orderHide")},500)}function changeAddress(){$(".pageAddress").addClass("addressShow"),$(".pageOrder").addClass("orderHide")}function submitAddress(){function e(e){return e.val()}var t=$(this),n=function(){var t="222",n=e($("#userName")),a=e($("#telephone")),s=$("#city-picker").text()+$("#street").find("option:selected").val();_zipCode=e($("#zipCode"));var i="<div class='addressItem-box'><div class='addressItem' id="+t+"><span class='confirm iconfont icons-confirm-active'>&#xe609;</span><div class='order-contact'><em class='fn-right phone'>"+a+"</em><span class='receiver'>收货人："+n+"</span></div><p class='order-address'>收货人地址："+s+"</p></div><div class='address-delete'><a href='javascript:void(0)'><span class='iconfont'>&#xe61b;</span>删除</a></div></div>";if(maskHide(),$(".icons-confirm-active").attr("class","confirm iconfont icons-confirm"),$(".addressPage").prepend(i),$(".address-delete").find("a").get(0).addEventListener("tap",deleteAddress,!1),$(".addressItem").each(function(){this.addEventListener("tap",selected,!1)}),0==$(".orderAddress").length){var o="<div class='orderAddress addrChange' id="+t+"><span class='fn-left iconfont receipt-img'>&#xe617;</span><div class='order-info01'><span class='fn-right iconfont order-arrow'>&#xe60c;</span><div class='order-contact'><span class='fn-right phone' id='phone'>"+a+"</span><em class='receiver' id='receiver'>收货人："+n+"</em></div><p class='order-address' id='address'>收货人地址："+s+"</p></div></div>";$(".addAddress").after(o),$(".addAddress").remove(),$(".addrChange").get(0).addEventListener("tap",changeAddress,!1)}else $("#phone").text(a),$("#receiver").text("收货人："+n),$("#address").text("收货人地址："+s);transitions()};t.get(0).addEventListener("tap",n,!1)}function deleteAddress(){var e=$(this),t=e.parents(".addressItem-box"),n=t.find(".icons-confirm-active");0==n.length?(error({text:"请再次确认删除该收货地址",ok:"确定",cancel:"取消"}),$(document).on("tap",".btn-ok",function(e){console.log(e),alert("删除收货地址")})):error({text:"默认选中收货地址不能被删除"})}!function(e){"use strict";e.fn.lazyImgLoad=function(t){var n=e(this);t=t||{};var a=function(){var e=t.backgroundImg;e&&null!=n.attr("data-url")&&n.parent().css({backgroundImage:"url("+e+")",backgroundSize:"cover"})};a();var s=function(n){var a,s=e(window).height(),i=e(window).scrollTop(),o=t.distance?t.distance:0;return a=o?s+i+o:s+i,a>=n.offset().top?!0:!1},i=function(t){var n=e(window).scrollTop();return n<=t.offset().top+t.height()?!0:!1},o=function(e){return s(e)&&i(e)?!0:!1},d=function(){n.each(function(){var t=this;if(""==t.src){var n=o(e(t));if(n){var a=e(t).attr("data-url"),s=e(t).attr("data-alt");e(t).attr({src:a,alt:s}).removeAttr("data-url").removeAttr("data-alt")}}})};window.addEventListener("load",d,!1),window.addEventListener("scroll",d,!1)},e.fn.dialog=function(t){var n,a,s,i,o=e(this);a="object"==typeof t?t.text:t,i="undefined"!=t.btnOK?t.btnOK:!1,s="undefined"!=t.btnCancel?t.btnCancel:!1;var d=function(){n=i?dialogTip1(a,i,s):dialogTip2(a),e("body").append(n),e(document).on("click",".btn-cancel",function(){e(".mask-box").remove()})};0!=o.length?o.get(0).addEventListener("click",d,!1):!1},e.fn.hideElement=function(t){var n,a,s,i,o=e(this),d=location.href;n="string"==typeof t?t:t.strKey;var r=function(){return o.hide(),s=t.direction||null,i=s?"padding-"+s:!1,(a=t.element||null)?void e(a).css(i,0):!1};d.indexOf(n)>-1?r():!1},e.fn.countdown=function(){function t(e){var t=0,n=0,a=e;return e>60&&(n=parseInt(e/60),a=Math.floor(e%60),n>=60&&(t=parseInt(n/60),n=Math.floor(n%60))),t=s(t),n=s(n),a=s(a),t+" : "+n+" : "+a}var n,a=e(this).not(".conduct"),s=function(e){return 10>e?"0"+e:e},i=function(e,s){a.hasClass("conduct")?!1:a.addClass("conduct"),s>=0&&(n=setTimeout(function(){i(e,s)},1e3),e.text(t(s)),0==s&&clearTimeout(n),s--)};a.each(function(){var t=parseInt(e(this).attr("data-end"))/1e3;i(e(this),t)})},e.fn.viewImg=function(){var t=e(this),n=function(e,t){for(var n=0;n<t.length;n++)e+="<li><img src="+t[n].getAttribute("src")+" /></li>";return e},a=function(e,t){for(var n=0;n<t.length;n++)e+="<span></span>";return e},s=function(){var s=t.index(e(this)),i=(e(window).height(),e(window).width()),o="",d="",r=e("<section class='slide-view'><ul>"+n(o,t)+"</ul><div class='slide-cur'>"+a(d,t)+"</div></section>");e("body").append(r),e(".slide-view ul").css({"-webkit-transform":"translateX(-"+s*i+"px)","-moz-transform":"translateX(-"+s*i+"px)","-ms-transform":"translateX(-"+s*i+"px)","-o-transform":"translateX(-"+s*i+"px)",transform:"translateX(-"+s*i+"px)"}),e(".slide-view").animate({opacity:1},500),e(".slide-view li").eq(s).addClass("pop-img"),e(".slide-cur span").eq(s).addClass("cur"),e(".add-kf").hide(),e(".slide-view").get(0).addEventListener("tap",function(){e(this).remove(),e(".add-kf").show()},!1)};t.each(function(){this.addEventListener("tap",s,!1)})},e.fn.scrollFixed=function(t){var n=e(this),t=t?t:null,a=navigator.userAgent,s=n.offset().top;a.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?(window.addEventListener("touchmove",function(){e(this).scrollTop()>s?t.addClass("tab-fixed"):t.removeClass("tab-fixed")},!1),e(window).scroll(function(){e(this).scrollTop()>s?t.addClass("tab-fixed"):t.removeClass("tab-fixed")},!1)):e(window).scroll(function(){e(this).scrollTop()>s?(t.hide(),t.addClass("tab-fixed"),t.show()):(t.hide(),t.removeClass("tab-fixed"),t.show())},!1)},e.fn.showTop=function(t){var n,a,s,i,o,d=this.get(0),t=t?t:null,r={touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,events:{slider:d,handleEvent:function(e){"touchstart"==e.type?this.start(e):"touchmove"==e.type?this.move(e):"touchend"==e.type?this.end(e):this.scrollBtm(e)},start:function(t){var a=t.targetTouches[0];n={x:a.pageX,y:a.pageY,time:+new Date},s=0,i=e(d).scrollTop(),this.slider.addEventListener("touchmove",this,!1),this.slider.addEventListener("touchend",this,!1)},move:function(t){if(!(t.targetTouches.length>1||t.scale&&1!==t.scale)){var i=t.targetTouches[0];a={x:i.pageX-n.x,y:i.pageY-n.y},o=e(d).scrollTop(),s=Math.abs(a.x)<Math.abs(a.y)?1:0}},end:function(){var r=+new Date-n.time;return console.log(e(d).scrollTop()),Number(r)>10?(1===s&&(a.y<-10||i>o?e(t).removeClass("top-fixed").css("zIndex","1"):a.y>10&&e(t).addClass("top-fixed").css("zIndex","9999")),n=a=null,!1):(this.slider.removeEventListener("touchmove",this,!1),void this.slider.removeEventListener("touchend",this,!1))},scrollBtm:function(){console.log(this),console.log(e(d).scrollTop())}}};window.addEventListener("touchstart",r.events,!1)},e.fn.verificationUser=function(t){var n=e(this),a=t?t.num:!1,s=t?t.url:!1,i=function(){if(0===e(".pop-yanz-box").length){var t="<section class='pop-yanz-box'><section class='pop-yanz pop-img'><span class='iconfont pop-yanz-close'>&#xe6cc;</span><span class='font12 pop-first'>您的VIP专属号为</span><div class='pop-number'>"+a+"</div><div class='pop-content'>添加下方客服好友发送您的vip专属号订单方能生效</div><div class='pop-img-1'><img src="+s+"></div><p class='pop-text'>您可以跳过此步骤先完成下单流程，团成后在确认添加客服激活您的订单，等待收货。</p></section></section>";0!==e(".mask-box1").length?(e(".mask-box1").show(),e("body").append(t)):(e("body").append("<section class='mask-box1'></section>"),e("body").append(t)),e(".pop-yanz-close").get(0).addEventListener("tap",o,!1)}else e(".mask-box1").show(),e(".pop-yanz-box").show()},o=function(){e(".mask-box1").hide(),e(".pop-yanz-box").remove()};0!=n.length?n.get(0).addEventListener("tap",i,!1):!1}}(Zepto),$(document).on("tap","[data-href]",function(){var e=$(this).attr("data-href"),t=e.indexOf("taobao.com")>0||e.indexOf("tmall.com")>0,n=navigator.userAgent.toLowerCase(),a="micromessenger"==n.match(/MicroMessenger/i)?!0:!1;a&&t?inviteTips({title:"Oh No！非常遗憾",content:"微信无法直达淘宝页面，您需要点击右上角，在浏览器中打开购买。",btn:"我知道了"}):location.href=e,event.stopPropagation()}),$(".invite").each(function(){$(this).get(0).addEventListener("click",function(){inviteTips({title:"齐心协力买好货",content:"点击右上角分享给好友一起参团吧！",btn:"我知道了"})},!1)});var error=function(e){var t,n="object"==typeof e?e.text:e,a="ok"in e?e.ok:!1,s="cancel"in e?e.cancel:!1;t=a?dialogTip1(n,a,s):dialogTip2(n),$("body").append(t),a?$(document).on("click",".btn-cancel",function(){$(".mask-box").remove()}):setTimeout(function(){$(".mask-box").remove()},2200)};setCookie("browser"),$(".add-address").on("click",function(){addDOM()}),$("#pageBack").on("click",function(){transitions()}),$("#pageBack01").on("click",function(){setTimeout(function(){$("#addressSelect").removeClass("address-select-show")})}),$(".addressItem").each(function(){$(this).get(0).addEventListener("tap",selected,!1)}),$(".orderAddress").each(function(){$(this).get(0).addEventListener("tap",selected,!1)}),$(".address-delete").each(function(){this.getElementsByTagName("a")[0].addEventListener("tap",deleteAddress,!1)}),function(e,t){var n=e.documentElement,a="orientationchange"in window?"orientationchange":"resize",s=function(){var e=n.clientWidth;e&&(n.style.fontSize=e/37.5+"px")};e.addEventListener&&(t.addEventListener(a,s,!1),e.addEventListener("DOMContentLoaded",s,!1))}(document,window);