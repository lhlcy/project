var gmu=gmu||{version:"@version",$:window.Zepto,staticCall:function(t){var e=t.fn,n=[].slice,i=t();return i.length=1,function(t,o){return i[0]=t,e[o].apply(i,n.call(arguments,2))}}(Zepto)};!function(t,e){function n(t,e,n){(t||"").split(a).forEach(function(t){n(t,e)})}function i(t){return new RegExp("(?:^| )"+t.replace(" "," .* ?")+"(?: |$)")}function o(t){var e=(""+t).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function r(t,e,n,r){var s,l;return l=o(e),l.ns&&(s=i(l.ns)),t.filter(function(t){return!(!t||l.e&&t.e!==l.e||l.ns&&!s.test(t.ns)||n&&t.cb!==n&&t.cb._cb!==n||r&&t.ctx!==r)})}function s(t,n){return this instanceof s?(n&&e.extend(this,n),this.type=t,this):new s(t,n)}var l=[].slice,a=/\s+/,c=function(){return!1},u=function(){return!0};s.prototype={isDefaultPrevented:c,isPropagationStopped:c,preventDefault:function(){this.isDefaultPrevented=u},stopPropagation:function(){this.isPropagationStopped=u}},t.event={on:function(t,e,i){var r,s=this;return e?(r=this._events||(this._events=[]),n(t,e,function(t,e){var n=o(t);n.cb=e,n.ctx=i,n.ctx2=i||s,n.id=r.length,r.push(n)}),this):this},one:function(t,e,i){var o=this;return e?(n(t,e,function(t,e){var n=function(){return o.off(t,n),e.apply(i||o,arguments)};n._cb=e,o.on(t,n,i)}),this):this},off:function(t,e,i){var o=this._events;return o?t||e||i?(n(t,e,function(t,e){r(o,t,e,i).forEach(function(t){delete o[t.id]})}),this):(this._events=[],this):this},trigger:function(t){var e,n,i,o,a,c=-1;if(!this._events||!t)return this;if("string"==typeof t&&(t=new s(t)),e=l.call(arguments,1),t.args=e,e.unshift(t),n=r(this._events,t.type))for(o=n.length;++c<o;)if((i=t.isPropagationStopped())||!1===(a=n[c]).cb.apply(a.ctx2,e)){i||(t.stopPropagation(),t.preventDefault());break}return this}},t.Event=s}(gmu,gmu.$),function(t){t.parseTpl=function(t,e){var n="var __p=[];with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',"+e.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',i=new Function("obj",n);return e?i(e):i}}(Zepto),function(t,e,n){function i(t){return"[object Object]"===f.call(t)}function o(t,e){t&&Object.keys(t).forEach(function(n){e(n,t[n])})}function r(t){try{t="true"===t?!0:"false"===t?!1:"null"===t?null:+t+""===t?+t:/(?:\{[\s\S]*\}|\[[\s\S]*\])$/.test(t)?JSON.parse(t):t}catch(e){t=n}return t}function s(t){for(var e,i,o={},s=t&&t.attributes,l=s&&s.length;l--;)i=s[l],e=i.name,"data-"===e.substring(0,5)&&(e=e.substring(5),i=r(i.value),i===n||(o[e]=i));return o}function l(o){var r=o.substring(0,1).toLowerCase()+o.substring(1),s=e.fn[r];e.fn[r]=function(r){var s,l,a=d.call(arguments,1),c="string"==typeof r&&r;return e.each(this,function(u,h){if(l=v(h,o)||new t[o](h,i(r)?r:n),"this"===c)return s=l,!1;if(c){if(!e.isFunction(l[c]))throw new Error("组件没有此方法："+c);if(s=l[c].apply(l,a),s!==n&&s!==l)return!1;s=n}}),s!==n?s:this},e.fn[r].noConflict=function(){return e.fn[r]=s,this}}function a(t,n){var i=this;t.superClass&&a.call(i,t.superClass,n),o(v(t,"options"),function(t,o){o.forEach(function(o){var r=o[0],s=o[1];("*"===r||e.isFunction(r)&&r.call(i,n[t])||r===n[t])&&s.call(i)})})}function c(t,i){var r=this;t.superClass&&c.call(r,t.superClass,i),o(v(t,"plugins"),function(t,s){i[t]!==!1&&(o(s,function(t,i){var o;r[t]=e.isFunction(i)&&(o=r[t])?function(){var t,e=r.origin;return r.origin=o,t=i.apply(r,arguments),e===n?delete r.origin:r.origin=e,t}:i}),s._init.call(r))})}function u(){for(var t,n=d.call(arguments),o=n.length;o--;)t=t||n[o],i(n[o])||n.splice(o,1);return n.length?e.extend.apply(null,[!0,{}].concat(n)):t}function h(t,o,r,l,h){var p,d=this;return i(l)&&(h=l,l=n),h&&h.el&&(l=e(h.el)),l&&(d.$el=e(l),l=d.$el[0]),p=d._options=u(o.options,s(l),h),d.template=u(o.template,p.template),d.tpl2html=u(o.tpl2html,p.tpl2html),d.widgetName=t.toLowerCase(),d.eventNs="."+d.widgetName+r,d._init(p),d._options.setup=d.$el&&d.$el.parent()[0]?!0:!1,a.call(d,o,p),c.call(d,o,p),d._create(),d.trigger("ready"),l&&v(l,t,d)&&d.on("destroy",function(){v(l,t,null)}),d}function p(i,r,s){function l(t,e){if("Base"===i)throw new Error("Base类不能直接实例化");return this instanceof l?h.call(this,i,l,a++,t,e):new l(t,e)}"function"!=typeof s&&(s=t.Base);var a=1,c=1;return e.extend(l,{register:function(t,e){var n=v(l,"plugins")||v(l,"plugins",{});return e._init=e._init||m,n[t]=e,l},option:function(t,e,n){var i=v(l,"options")||v(l,"options",{});return i[t]||(i[t]=[]),i[t].push([e,n]),l},inherits:function(t){return p(i+"Sub"+c++,t,l)},extend:function(t){var e=l.prototype,i=s.prototype;g.forEach(function(e){t[e]=u(s[e],t[e]),t[e]&&(l[e]=t[e]),delete t[e]}),o(t,function(t,o){e[t]="function"==typeof o&&i[t]?function(){var e,r=this.$super;return this.$super=function(){var e=d.call(arguments,1);return i[t].apply(this,e)},e=o.apply(this,arguments),r===n?delete this.$super:this.$super=r,e}:o})}}),l.superClass=s,l.prototype=Object.create(s.prototype),l.extend(r),l}var d=[].slice,f=Object.prototype.toString,m=function(){},g=["options","template","tpl2html"],v=function(){var t={},e=0,i="_gid";return function(o,r,s){var l=o[i]||(o[i]=++e),a=t[l]||(t[l]={});return s!==n&&(a[r]=s),null===s&&delete a[r],a[r]}}(),_=t.event;t.define=function(e,n,i){t[e]=p(e,n,i),l(e)},t.isWidget=function(e,n){return n="string"==typeof n?t[n]||m:n,n=n||t.Base,e instanceof n},t.Base=p("Base",{_init:m,_create:m,getEl:function(){return this.$el},on:_.on,one:_.one,off:_.off,trigger:function(n){var i="string"==typeof n?new t.Event(n):n,o=[i].concat(d.call(arguments,1)),r=this._options[i.type],s=this.getEl();return r&&e.isFunction(r)&&!1===r.apply(this,o)&&(i.stopPropagation(),i.preventDefault()),_.trigger.apply(this,o),s&&s.triggerHandler(i,(o.shift(),o)),this},tpl2html:function(t,n){var i=this.template;return i="string"==typeof t?i[t]:(n=t,i),n||~i.indexOf("<%")?e.parseTpl(i,n):i},destroy:function(){this.$el&&this.$el.off(this.eventNs),this.trigger("destroy"),this.off(),this.destroyed=!0}},Object),e.ui=t}(gmu,gmu.$),function(t,e,n){t.define("Refresh",{options:{load:null,statechange:null},_init:function(){var t=this,n=t._options;t.on("ready",function(){e.each(["up","down"],function(e,i){var o=n["$"+i+"Elem"],r=o.get(0);o.length&&(t._status(i,!0),(!r.childNodes.length||o.find(".ui-refresh-icon").length&&o.find(".ui-refresh-label").length)&&(!r.childNodes.length&&t._createBtn(i),n.refreshInfo||(n.refreshInfo={}),n.refreshInfo[i]={$icon:o.find(".ui-refresh-icon"),$label:o.find(".ui-refresh-label"),text:o.find(".ui-refresh-label").html()}),o.on("click",function(){t._status(i)&&!n._actDir&&(t._setStyle(i,"loading"),t._loadingAction(i,"click"))}))})}),t.on("destroy",function(){t.$el.remove()})},_create:function(){var t=this,e=t._options,n=t.$el;t._options.setup&&(e.$upElem=n.find(".ui-refresh-up"),e.$downElem=n.find(".ui-refresh-down"),n.addClass("ui-refresh"))},_createBtn:function(t){return this._options["$"+t+"Elem"].html('<div class="ui-refresh-icon"><div class="refresh-box"><img src="images/loading.png" ></div><div>'),this},_setStyle:function(t,n){var i=this,o=e.Event("statechange");return i.trigger(o,i._options["$"+t+"Elem"],n,t),o.defaultPrevented?i:i._changeStyle(t,n)},_changeStyle:function(t,e){var n=this._options,i=n.refreshInfo[t];switch(e){case"loaded":i.$label.html(i.text),i.$icon.removeClass(),n._actDir="";break;case"loading":i.$label.html("加载中..."),i.$icon.addClass("ui-loading"),n._actDir=t;break;case"disable":i.$label.html("没有更多内容了")}return this},_loadingAction:function(t,n){var i=this,o=i._options,r=o.load;return e.isFunction(r)&&r.call(i,t,n),i._status(t,!1),i},afterDataLoading:function(t){var e=this,t=t||e._options._actDir;return e._setStyle(t,"loaded"),e._status(t,!0),e},_status:function(t,e){var i=this._options;return e===n?i["_"+t+"Open"]:i["_"+t+"Open"]=!!e},_setable:function(t,n,i){var o=this,r=o._options,s=n?[n]:["up","down"];return e.each(s,function(e,n){var s=r["$"+n+"Elem"];s.length&&(t?s.show():i?s.hide():o._setStyle(n,"disable"),o._status(n,t))}),o},disable:function(t,e){return this._setable(!1,t,e)},enable:function(t){return this._setable(!0,t)}})}(gmu,gmu.$),function(t,e){t.Refresh.register("lite",{_init:function(){var t=this,n=t._options,i=t.$el;return n.seamless&&e(document).on("scrollStop",e.proxy(t._eventHandler,t)),i.on("touchstart touchmove touchend touchcancel",e.proxy(t._eventHandler,t)),n.wrapperH=i.height(),n.wrapperTop=i.offset().top,n._win=window,n._body=document.body,t},_changeStyle:function(t,e){var n=this,i=n._options.refreshInfo[t];return"beforeload"==e&&(i.$icon.removeClass("ui-loading"),i.$label.html("松开立即加载")),n.origin(t,e)},_startHandler:function(t){this._options._startY=t.touches[0].pageY},_moveHandler:function(t){var e=this,n=e._options,i=n._startY,o=i-t.touches[0].pageY,r=n._win.innerHeight,s=n.threshold||(n.wrapperH<r?n.wrapperH/2+n.wrapperTop||0:r/2);if(e._status("down")&&!(0>o))return!n._refreshing&&i>=n._body.scrollHeight-r+s&&o>10&&(e._setStyle("down","beforeload"),n._refreshing=!0),e},_endHandler:function(){var t=this,e=t._options;return t._setStyle("down","loading"),t._loadingAction("down","pull"),e._refreshing=!1,t},_eventHandler:function(t){var e=this,n=e._options;switch(t.type){case"touchstart":e._startHandler(t);break;case"touchmove":clearTimeout(n._endTimer),n._endTimer=setTimeout(function(){e._endHandler()},300),e._moveHandler(t);break;case"touchend":case"touchcancel":clearTimeout(n._endTimer),n._refreshing&&e._endHandler();break;case"scrollStop":!n._refreshing&&n._win.pageYOffset>=n._body.scrollHeight-n._win.innerHeight+(n.threshold||-1)&&e._endHandler()}return e}})}(gmu,gmu.$),function(t){function e(){var t=n.attr("hl-cls");clearTimeout(i),n.removeClass(t).removeAttr("hl-cls"),n=null,o.off("touchend touchmove touchcancel",e)}var n,i,o=t(document);t.fn.highlight=function(r,s){return this.each(function(){var l=t(this);l.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.hl"),r&&l.on("touchstart.hl",function(a){var c;n=s?(c=t(a.target).closest(s,this))&&c.length&&c:l,n&&(n.attr("hl-cls",r),i=setTimeout(function(){n.addClass(r)},100),o.on("touchend touchmove touchcancel",e))})})}}(Zepto),function(t,e,n){t.define("Navigator",{options:{content:null,event:"click"},template:{list:"<ul>",item:'<li><a<% if( href ) { %> href="<%= href %>"<% } %>><%= text %></a></li>'},_create:function(){var t,i,o=this,r=o._options,s=o.getEl(),l=s.find("ul").first(),a="ui-"+o.widgetName;!l.length&&r.content?(l=e(o.tpl2html("list")),t=o.tpl2html("item"),i="",r.content.forEach(function(n){n=e.extend({href:"",text:""},"string"==typeof n?{text:n}:n),i+=t(n)}),l.append(i).appendTo(s)):(s.is("ul, ol")&&(l=s.wrap("<div>"),s=s.parent()),r.index===n&&(r.index=l.find(".ui-state-active").index(),~r.index||(r.index=0))),o.$list=l.addClass(a+"-list"),o.trigger("done.dom",s.addClass(a),r),l.highlight("ui-state-hover","li"),l.on(r.event+o.eventNs,"li:not(.ui-state-disable)>a",function(t){o._switchTo(e(this).parent().index(),t)}),o.index=-1,o.switchTo(r.index)},_switchTo:function(e,n){if(e!==this.index){var i,o=this,r=o.$list.children(),s=t.Event("beforeselect",n);if(o.trigger(s,r.get(e)),!s.isDefaultPrevented())return i=r.removeClass("ui-state-active").eq(e).addClass("ui-state-active"),o.index=e,o.trigger("select",e,i[0])}},switchTo:function(t){return this._switchTo(~~t)},unselect:function(){this.index=-1,this.$list.children().removeClass("ui-state-active")},getIndex:function(){return console.log(this.index),this.index}})}(gmu,gmu.$),function(t,e){function n(t){return""===s?t:(t=t.charAt(0).toUpperCase()+t.substr(1),s+t)}var i=Math,o=[],r=e.createElement("div").style,s=function(){for(var t,e="webkitT,MozT,msT,OT,t".split(","),n=0,i=e.length;i>n;n++)if(t=e[n]+"ransform",t in r)return e[n].substr(0,e[n].length-1);return!1}(),l=s?"-"+s.toLowerCase()+"-":"",a=n("transform"),c=n("transitionProperty"),u=n("transitionDuration"),h=n("transformOrigin"),p=n("transitionTimingFunction"),d=(n("transitionDelay"),/android/gi.test(navigator.appVersion)),f=/hp-tablet/gi.test(navigator.appVersion),m=n("perspective")in r,g="ontouchstart"in t&&!f,v=!!s,_=n("transition")in r,x="onorientationchange"in t?"orientationchange":"resize",y=g?"touchstart":"mousedown",S=g?"touchmove":"mousemove",b=g?"touchend":"mouseup",w=g?"touchcancel":"mouseup",T=function(){if(s===!1)return!1;var t={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return t[s]}(),E=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(t){return setTimeout(t,1)}}(),$=function(){return t.cancelRequestAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),Y=m?" translateZ(0)":"",D=function(n,i){var o,r=this;r.wrapper="object"==typeof n?n:e.getElementById(n),r.wrapper.style.overflow="hidden",r.scroller=r.wrapper.children[0],r.translateZ=Y,r.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,onRefresh:null,onBeforeScrollStart:function(t){t.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(o in i)r.options[o]=i[o];r.x=r.options.x,r.y=r.options.y,r.options.useTransform=v&&r.options.useTransform,r.options.useTransition=_&&r.options.useTransition,r.scroller.style[c]=r.options.useTransform?l+"transform":"top left",r.scroller.style[u]="0",r.scroller.style[h]="0 0",r.options.useTransition&&(r.scroller.style[p]="cubic-bezier(0.33,0.66,0.66,1)"),r.options.useTransform?r.scroller.style[a]="translate("+r.x+"px,"+r.y+"px)"+Y:r.scroller.style.cssText+=";position:absolute;top:"+r.y+"px;left:"+r.x+"px",r.refresh(),r._bind(x,t),r._bind(y),r.options.checkDOMChanges&&(r.checkDOMTime=setInterval(function(){r._checkDOMChanges()},500))};D.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,isStopScrollAction:!1,handleEvent:function(t){var e=this;switch(t.type){case y:if(!g&&0!==t.button)return;e._start(t);break;case S:e._move(t);break;case b:case w:e._end(t);break;case x:e._resize();break;case T:e._transitionEnd(t)}},_checkDOMChanges:function(){this.moved||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_resize:function(){var t=this;setTimeout(function(){t.refresh()},d?200:0)},_pos:function(t,e){t=this.hScroll?t:0,e=this.vScroll?e:0,this.options.useTransform?this.scroller.style[a]="translate("+t+"px,"+e+"px) scale("+this.scale+")"+Y:(t=i.round(t),e=i.round(e),this.scroller.style.left=t+"px",this.scroller.style.top=e+"px"),this.x=t,this.y=e},_start:function(e){var n,o,r,s=this,l=g?e.touches[0]:e;s.enabled&&(s.options.onBeforeScrollStart&&s.options.onBeforeScrollStart.call(s,e),s.options.useTransition&&s._transitionTime(0),s.moved=!1,s.animating=!1,s.distX=0,s.distY=0,s.absDistX=0,s.absDistY=0,s.dirX=0,s.dirY=0,s.isStopScrollAction=!1,s.options.momentum&&(s.options.useTransform?(n=getComputedStyle(s.scroller,null)[a].replace(/[^0-9\-.,]/g,"").split(","),o=+n[4],r=+n[5]):(o=+getComputedStyle(s.scroller,null).left.replace(/[^0-9-]/g,""),r=+getComputedStyle(s.scroller,null).top.replace(/[^0-9-]/g,"")),(i.round(o)!=i.round(s.x)||i.round(r)!=i.round(s.y))&&(s.isStopScrollAction=!0,s.options.useTransition?s._unbind(T):$(s.aniTime),s.steps=[],s._pos(o,r),s.options.onScrollEnd&&s.options.onScrollEnd.call(s))),s.startX=s.x,s.startY=s.y,s.pointX=l.pageX,s.pointY=l.pageY,s.startTime=e.timeStamp||Date.now(),s.options.onScrollStart&&s.options.onScrollStart.call(s,e),s._bind(S,t),s._bind(b,t),s._bind(w,t))},_move:function(t){var e=this,n=g?t.touches[0]:t,o=n.pageX-e.pointX,r=n.pageY-e.pointY,s=e.x+o,l=e.y+r,a=t.timeStamp||Date.now();e.options.onBeforeScrollMove&&e.options.onBeforeScrollMove.call(e,t),e.pointX=n.pageX,e.pointY=n.pageY,(s>0||s<e.maxScrollX)&&(s=e.options.bounce?e.x+o/2:s>=0||e.maxScrollX>=0?0:e.maxScrollX),(l>e.minScrollY||l<e.maxScrollY)&&(l=e.options.bounce?e.y+r/2:l>=e.minScrollY||e.maxScrollY>=0?e.minScrollY:e.maxScrollY),e.distX+=o,e.distY+=r,e.absDistX=i.abs(e.distX),e.absDistY=i.abs(e.distY),e.absDistX<6&&e.absDistY<6||(e.options.lockDirection&&(e.absDistX>e.absDistY+5?(l=e.y,r=0):e.absDistY>e.absDistX+5&&(s=e.x,o=0)),e.moved=!0,e._beforePos?e._beforePos(l,r)&&e._pos(s,l):e._pos(s,l),e.dirX=o>0?-1:0>o?1:0,e.dirY=r>0?-1:0>r?1:0,a-e.startTime>300&&(e.startTime=a,e.startX=e.x,e.startY=e.y),e.options.onScrollMove&&e.options.onScrollMove.call(e,t))},_end:function(n){if(!g||0===n.touches.length){var o,r,s,l=this,a=g?n.changedTouches[0]:n,c={dist:0,time:0},u={dist:0,time:0},h=(n.timeStamp||Date.now())-l.startTime,p=l.x,d=l.y;if(l._unbind(S,t),l._unbind(b,t),l._unbind(w,t),l.options.onBeforeScrollEnd&&l.options.onBeforeScrollEnd.call(l,n),!l.moved)return g&&this.options.handleClick&&!l.isStopScrollAction&&(l.doubleTapTimer=setTimeout(function(){for(l.doubleTapTimer=null,o=a.target;1!=o.nodeType;)o=o.parentNode;"SELECT"!=o.tagName&&"INPUT"!=o.tagName&&"TEXTAREA"!=o.tagName&&(r=e.createEvent("MouseEvents"),r.initMouseEvent("click",!0,!0,n.view,1,a.screenX,a.screenY,a.clientX,a.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,0,null),r._fake=!0,o.dispatchEvent(r))},0)),l._resetPos(400),void(l.options.onTouchEnd&&l.options.onTouchEnd.call(l,n));if(300>h&&l.options.momentum&&(c=p?l._momentum(p-l.startX,h,-l.x,l.scrollerW-l.wrapperW+l.x,l.options.bounce?l.wrapperW:0):c,u=d?l._momentum(d-l.startY,h,-l.y,l.maxScrollY<0?l.scrollerH-l.wrapperH+l.y-l.minScrollY:0,l.options.bounce?l.wrapperH:0):u,p=l.x+c.dist,d=l.y+u.dist,(l.x>0&&p>0||l.x<l.maxScrollX&&p<l.maxScrollX)&&(c={dist:0,time:0}),(l.y>l.minScrollY&&d>l.minScrollY||l.y<l.maxScrollY&&d<l.maxScrollY)&&(u={dist:0,time:0})),c.dist||u.dist)return s=i.max(i.max(c.time,u.time),10),l.scrollTo(i.round(p),i.round(d),s),void(l.options.onTouchEnd&&l.options.onTouchEnd.call(l,n));l._resetPos(200),l.options.onTouchEnd&&l.options.onTouchEnd.call(l,n)}},_resetPos:function(t){var e=this,n=e.x>=0?0:e.x<e.maxScrollX?e.maxScrollX:e.x,i=e.y>=e.minScrollY||e.maxScrollY>0?e.minScrollY:e.y<e.maxScrollY?e.maxScrollY:e.y;return n==e.x&&i==e.y?void(e.moved&&(e.moved=!1,e.options.onScrollEnd&&e.options.onScrollEnd.call(e),e._afterPos&&e._afterPos())):void e.scrollTo(n,i,t||0)},_transitionEnd:function(t){var e=this;t.target==e.scroller&&(e._unbind(T),e._startAni())},_startAni:function(){var t,e,n,o=this,r=o.x,s=o.y,l=Date.now();if(!o.animating){if(!o.steps.length)return void o._resetPos(400);if(t=o.steps.shift(),t.x==r&&t.y==s&&(t.time=0),o.animating=!0,o.moved=!0,o.options.useTransition)return o._transitionTime(t.time),o._pos(t.x,t.y),o.animating=!1,void(t.time?o._bind(T):o._resetPos(0));n=function(){var a,c,u=Date.now();return u>=l+t.time?(o._pos(t.x,t.y),o.animating=!1,o.options.onAnimationEnd&&o.options.onAnimationEnd.call(o),void o._startAni()):(u=(u-l)/t.time-1,e=i.sqrt(1-u*u),a=(t.x-r)*e+r,c=(t.y-s)*e+s,o._pos(a,c),void(o.animating&&(o.aniTime=E(n))))},n()}},_transitionTime:function(t){t+="ms",this.scroller.style[u]=t},_momentum:function(t,e,n,o,r){var s=6e-4,l=i.abs(t)*(this.options.speedScale||1)/e,a=l*l/(2*s),c=0,u=0;return t>0&&a>n?(u=r/(6/(a/l*s)),n+=u,l=l*n/a,a=n):0>t&&a>o&&(u=r/(6/(a/l*s)),o+=u,l=l*o/a,a=o),a*=0>t?-1:1,c=l/s,{dist:a,time:i.round(c)}},_offset:function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return t!=this.wrapper&&(e*=this.scale,n*=this.scale),{left:e,top:n}},_bind:function(t,e,n){o.concat([e||this.scroller,t,this]),(e||this.scroller).addEventListener(t,this,!!n)},_unbind:function(t,e,n){(e||this.scroller).removeEventListener(t,this,!!n)},destroy:function(){var e=this;e.scroller.style[a]="",e._unbind(x,t),e._unbind(y),e._unbind(S,t),e._unbind(b,t),e._unbind(w,t),e.options.useTransition&&e._unbind(T),e.options.checkDOMChanges&&clearInterval(e.checkDOMTime),e.options.onDestroy&&e.options.onDestroy.call(e);for(var n=0,i=o.length;i>n;)o[n].removeEventListener(o[n+1],o[n+2]),o[n]=null,n+=3;o=[]},refresh:function(){var t,e=this;e.wrapperW=e.wrapper.clientWidth||1,e.wrapperH=e.wrapper.clientHeight||1,e.minScrollY=-e.options.topOffset||0,e.scrollerW=i.round(e.scroller.offsetWidth*e.scale),e.scrollerH=i.round((e.scroller.offsetHeight+e.minScrollY)*e.scale),e.maxScrollX=e.wrapperW-e.scrollerW,e.maxScrollY=e.wrapperH-e.scrollerH+e.minScrollY,e.dirX=0,e.dirY=0,e.options.onRefresh&&e.options.onRefresh.call(e),e.hScroll=e.options.hScroll&&e.maxScrollX<0,e.vScroll=e.options.vScroll&&(!e.options.bounceLock&&!e.hScroll||e.scrollerH>e.wrapperH),t=e._offset(e.wrapper),e.wrapperOffsetLeft=-t.left,e.wrapperOffsetTop=-t.top,e.scroller.style[u]="0",e._resetPos(400)},scrollTo:function(t,e,n,i){var o,r,s=this,l=t;for(s.stop(),l.length||(l=[{x:t,y:e,time:n,relative:i}]),o=0,r=l.length;r>o;o++)l[o].relative&&(l[o].x=s.x-l[o].x,l[o].y=s.y-l[o].y),s.steps.push({x:l[o].x,y:l[o].y,time:l[o].time||0});s._startAni()},scrollToElement:function(t,e){var n,o=this;t=t.nodeType?t:o.scroller.querySelector(t),t&&(n=o._offset(t),n.left+=o.wrapperOffsetLeft,n.top+=o.wrapperOffsetTop,n.left=n.left>0?0:n.left<o.maxScrollX?o.maxScrollX:n.left,n.top=n.top>o.minScrollY?o.minScrollY:n.top<o.maxScrollY?o.maxScrollY:n.top,e=void 0===e?i.max(2*i.abs(n.left),2*i.abs(n.top)):e,o.scrollTo(n.left,n.top,e))},scrollToPage:function(t,e,n){var i,o,r=this;n=void 0===n?400:n,r.options.onScrollStart&&r.options.onScrollStart.call(r),i=-r.wrapperW*t,o=-r.wrapperH*e,i<r.maxScrollX&&(i=r.maxScrollX),o<r.maxScrollY&&(o=r.maxScrollY),r.scrollTo(i,o,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(S,t),this._unbind(b,t),this._unbind(w,t)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(T):$(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},isReady:function(){return!this.moved&&!this.animating}},r=null,"undefined"!=typeof exports?exports.iScroll=D:t.iScroll=D,function(t,e,n){if(t){var i,o=e.iScroll,r=[].slice,s=function(){var t={},e=0,i="_sid";return function(o,r){var s=o[i]||(o[i]=++e);return r!==n&&(t[s]=r),null===r&&delete t[s],t[s]}}();e.iScroll=i=function(t,e){var n=([].slice.call(arguments,0),new o(t,e));return s(t,n),n},i.prototype=o.prototype,t.fn.iScroll=function(e){var o,l,a=r.call(arguments,1),c="string"==typeof e&&e;return t.each(this,function(r,u){if(l=s(u)||i(u,t.isPlainObject(e)?e:n),"this"===c)return o=l,!1;if(c){if(!t.isFunction(l[c]))throw new Error("iScroll没有此方法："+c);if(o=l[c].apply(l,a),o!==n&&o!==l)return!1;o=n}}),o!==n?o:this}}}(t.Zepto||null,t)}(window,document),function(t){t.matchMedia=function(){var e=0,n="gmu-media-detect",i=t.fx.transitionEnd,o=t.fx.cssPrefix,r=t("<style></style>").append("."+n+"{"+o+"transition: width 0.001ms; width: 0; position: absolute; clip: rect(1px, 1px, 1px, 1px);}\n").appendTo("head");return function(o){var s,l,a=n+e++,c=[];return r.append("@media "+o+" { #"+a+" { width: 1px; } }\n"),s=t('<div class="'+n+'" id="'+a+'"></div>').appendTo("body").on(i,function(){l.matches=1===s.width(),t.each(c,function(e,n){t.isFunction(n)&&n.call(l,l)})}),l={matches:1===s.width(),media:o,addListener:function(t){return c.push(t),this},removeListener:function(t){var e=c.indexOf(t);return~e&&c.splice(e,1),this}}}}()}(Zepto),$(function(){$.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},$.matchMedia($.mediaQuery.ortchange).addListener(function(){$(window).trigger("ortchange")})}),function(t,e){t.Navigator.options.iScroll={hScroll:!0,vScroll:!1,hScrollbar:!1,vScrollbar:!1},t.Navigator.register("scrollable",{_init:function(){var t=this,n=t._options;t.on("done.dom",function(){t.$list.wrap('<div class="ui-scroller"></div>'),t.trigger("init.iScroll"),t.$el.iScroll(e.extend({},n.iScroll))}),e(window).on("ortchange"+t.eventNs,e.proxy(t.refresh,t)),t.on("destroy",function(){t.$el.iScroll("destroy"),e(window).off("ortchange"+t.eventNs)})},refresh:function(){this.trigger("refresh.iScroll").$el.iScroll("refresh")}})}(gmu,gmu.$),function(t,e,n){t.Navigator.options.isScrollToNext=!0,t.Navigator.option("isScrollToNext",!0,function(){var t,i=this;i.on("select",function(o,r,s){t===n&&(t=i.index?0:1);var l,a=r>t,c=e(s)[a?"next":"prev"](),u=c.offset()||e(s).offset(),h=i.$el.offset();(a?u.left+u.width>h.left+h.width:u.left<h.left)&&(l=i.$list.offset(),i.$el.iScroll("scrollTo",a?h.width-u.left+l.left-u.width:l.left-u.left,0,400)),t=r})})}(gmu,gmu.$),function(t,e){var n=e.fx.cssPrefix,i=e.fx.transitionEnd,o=" translateZ(0)";t.define("Slider",{options:{loop:!1,speed:400,index:0,selector:{container:".ui-slider-group"}},template:{item:'<div class="ui-slider-item"><a href="<%= href %>"><img src="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>'},_create:function(){var t=this,n=t.getEl(),o=t._options;t.index=o.index,t._initDom(n,o),t._initWidth(n,t.index),t._container.on(i+t.eventNs,e.proxy(t._tansitionEnd,t)),e(window).on("ortchange"+t.eventNs,function(){t._initWidth(n,t.index)})},_initDom:function(t,n){var i,o,r=n.selector,s=n.viewNum||1;for(o=t.find(r.container),o.length||(o=e("<div></div>"),n.content?this._createItems(o,n.content):t.is("ul")?(this.$el=o.insertAfter(t),o=t,t=this.$el):o.append(t.children()),o.appendTo(t)),(i=o.children()).length<s+1&&(n.loop=!1);n.loop&&o.children().length<3*s;)o.append(i.clone());this.length=o.children().length,this._items=(this._container=o).addClass("ui-slider-group").children().addClass("ui-slider-item").toArray(),this.trigger("done.dom",t.addClass("ui-slider"),n)},_createItems:function(t,e){for(var n=0,i=e.length;i>n;n++)t.append(this.tpl2html("item",e[n]))},_initWidth:function(t,e,n){var i,o=this;(n||(i=t.width())!==o.width)&&(o.width=i,o._arrange(i,e),o.height=t.height(),o.trigger("width.change"))},_arrange:function(t,e){var n,i,o=this._items,r=0;for(this._slidePos=new Array(o.length),i=o.length;i>r;r++)n=o[r],n.style.cssText+="width:"+t+"px;left:"+r*-t+"px;",n.setAttribute("data-index",r),this._move(r,e>r?-t:r>e?t:0,0);this._container.css("width",t*i)},_move:function(t,e,n,i){var o=this._slidePos,r=this._items;o[t]!==e&&r[t]&&(this._translate(t,e,n),o[t]=e,i&&r[t].clientLeft)},_translate:function(t,e,i){var r=this._items[t],s=r&&r.style;return s?void(s.cssText+=n+"transition-duration:"+i+"ms;"+n+"transform: translate("+e+"px, 0)"+o+";"):!1},_circle:function(t,e){var n;return e=e||this._items,n=e.length,(t%n+n)%e.length},_tansitionEnd:function(t){~~t.target.getAttribute("data-index")===this.index&&this.trigger("slideend",this.index)},_slide:function(t,e,n,i,o,r){var s,l=this;return s=l._circle(t-n*e),r.loop||(n=Math.abs(t-s)/(t-s)),this._move(s,-n*i,0,!0),this._move(t,i*n,o),this._move(s,0,o),this.index=s,this.trigger("slide",s,t)},slideTo:function(t,e){if(this.index===t||this.index===this._circle(t))return this;var n=this._options,i=this.index,o=Math.abs(i-t),r=o/(i-t),s=this.width;return e=e||n.speed,this._slide(i,o,r,s,e,n)},prev:function(){return(this._options.loop||this.index>0)&&this.slideTo(this.index-1),this},next:function(){return(this._options.loop||this.index+1<this.length)&&this.slideTo(this.index+1),this},getIndex:function(){return this.index},destroy:function(){return this._container.off(this.eventNs),e(window).off("ortchange"+this.eventNs),this.$super("destroy")}})}(gmu,gmu.$),function(t,e){e.extend(!0,t.Slider,{template:{prev:'<span class="ui-slider-pre"></span>',next:'<span class="ui-slider-next"></span>'},options:{arrow:!0,select:{prev:".ui-slider-pre",next:".ui-slider-next"}}}),t.Slider.option("arrow",!0,function(){var t=this,n=["prev","next"];this.on("done.dom",function(i,o,r){var s=r.selector;n.forEach(function(n){var i=o.find(s[n]);i.length||o.append(i=e(t.tpl2html(n))),t["_"+n]=i})}),this.on("ready",function(){n.forEach(function(e){t["_"+e].on("tap"+t.eventNs,function(){t[e].call(t)})})}),this.on("destroy",function(){t._prev.off(t.eventNs),t._next.off(t.eventNs)})})}(gmu,gmu.$),function(t,e){e.extend(!0,t.Slider,{template:{dots:'<p class="ui-slider-dots"><%= new Array( len + 1 ).join("<b></b>") %></p>'},options:{dots:!0,selector:{dots:".ui-slider-dots"}}}),t.Slider.option("dots",!0,function(){var n=function(e,n){var i=this._dots;"undefined"==typeof n||t.staticCall(i[n%this.length],"removeClass","ui-state-active"),t.staticCall(i[e%this.length],"addClass","ui-state-active")};this.on("done.dom",function(t,n,i){var o=n.find(i.selector.dots);o.length||(o=this.tpl2html("dots",{len:this.length}),o=e(o).appendTo(n)),this._dots=o.children().toArray()}),this.on("slide",function(t,e,i){n.call(this,e,i)}),this.on("ready",function(){n.call(this,this.index)})})}(gmu,gmu.$),function(t,e,n){var i,o,r,s,l={touchstart:"_onStart",touchmove:"_onMove",touchend:"_onEnd",touchcancel:"_onEnd",click:"_onClick"};e.extend(t.Slider.options,{stopPropagation:!1,disableScroll:!1}),t.Slider.register("touch",{_init:function(){var t=this,e=t.getEl();t._handler=function(e){return t._options.stopPropagation&&e.stopPropagation(),l[e.type]&&t[l[e.type]].call(t,e)},t.on("ready",function(){e.on("touchstart"+t.eventNs,t._handler),t._container.on("click"+t.eventNs,t._handler)})},_onClick:function(){return!s},_onStart:function(t){if(t.touches.length>1)return!1;var e,l=this,a=t.touches[0],c=l._options,u=l.eventNs;o={x:a.pageX,y:a.pageY,time:+new Date},r={},s=!1,i=n,e=c.viewNum||1,l._move(c.loop?l._circle(l.index-e):l.index-e,-l.width,0,!0),l._move(c.loop?l._circle(l.index+e):l.index+e,l.width,0,!0),l.$el.on("touchmove"+u+" touchend"+u+" touchcancel"+u,l._handler)},_onMove:function(t){if(t.touches.length>1||t.scale&&1!==t.scale)return!1;var e,n,l,a,c=this._options,u=c.viewNum||1,h=t.touches[0],p=this.index;if(c.disableScroll&&t.preventDefault(),r.x=h.pageX-o.x,r.y=h.pageY-o.y,"undefined"==typeof i&&(i=Math.abs(r.x)<Math.abs(r.y)),!i){for(t.preventDefault(),c.loop||(r.x/=!p&&r.x>0||p===this._items.length-1&&r.x<0?Math.abs(r.x)/this.width+1:1),a=this._slidePos,e=p-u,n=p+2*u;n>e;e++)l=c.loop?this._circle(e):e,this._translate(l,r.x+a[l],0);s=!0}},_onEnd:function(){if(this.$el.off("touchmove"+this.eventNs+" touchend"+this.eventNs+" touchcancel"+this.eventNs,this._handler),s){var t,e,n,i,l,a=this,c=a._options,u=c.viewNum||1,h=a.index,p=a._slidePos,d=+new Date-o.time,f=Math.abs(r.x),m=!c.loop&&(!h&&r.x>0||h===p.length-u&&r.x<0),g=r.x>0?1:-1;if(250>d?(t=f/d,e=Math.min(Math.round(t*u*1.2),u)):e=Math.round(f/(a.perWidth||a.width)),e&&!m)a._slide(h,e,g,a.width,c.speed,c,!0),u>1&&d>=250&&Math.ceil(f/a.perWidth)!==e&&(a.index<h?a._move(a.index-1,-a.perWidth,c.speed):a._move(a.index+u,a.width,c.speed));else for(n=h-u,i=h+2*u;i>n;n++)l=c.loop?a._circle(n):n,a._translate(l,p[l],c.speed)}}})}(gmu,gmu.$),function(t,e){e.extend(!0,t.Slider,{options:{autoPlay:!0,interval:4e3}}),t.Slider.register("autoplay",{_init:function(){var t=this;t.on("slideend ready",t.resume).on("destory",t.stop),t.getEl().on("touchstart"+t.eventNs,e.proxy(t.stop,t)).on("touchend"+t.eventNs,e.proxy(t.resume,t))},resume:function(){var t=this,e=t._options;return e.autoPlay&&!t._timer&&(t._timer=setTimeout(function(){t.slideTo(t.index+1),t._timer=null},e.interval)),t},stop:function(){var t=this;return t._timer&&(clearTimeout(t._timer),t._timer=null),t}})}(gmu,gmu.$),function(t){t.extend(t,{throttle:function(e,n,i){function o(){function t(){s=Date.now(),n.apply(l,c)}function o(){r=void 0}var l=this,a=Date.now()-s,c=arguments;i&&!r&&t(),r&&clearTimeout(r),void 0===i&&a>e?t():r=setTimeout(i?o:t,void 0===i?e-a:e)}var r,s=0;return"function"!=typeof n&&(i=n,n=e,e=250),o._zid=n._zid=n._zid||t.proxy(n)._zid,o},debounce:function(e,n,i){return void 0===n?t.throttle(250,e,!1):t.throttle(e,n,void 0===i?!1:i!==!1)}})}(Zepto),function(t,e){function n(){t(e).on("scroll",t.debounce(80,function(){t(e).trigger("scrollStop")
},!1))}function i(){t(e).off("scroll"),n()}n(),t(e).on("pageshow",function(n){n.persisted&&t(e).off("touchstart",i).one("touchstart",i)})}(Zepto,window);